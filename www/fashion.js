YUI().use("io-xdr", "json-parse", "json-stringify", "node", 
          "overlay", "anim", "plugin", "gallery-overlay-transition",
          "event-hover", "event-mouseenter", "transition",
          function(Y) {

  //
  //  GLOBALS
  //

  var numSuggestions = 4;
  var queryID = 0;
  var clothingSlots = ['top', 'bottom', 'shoe'];

  //
  //  AJAX CALLS
  //
  var getItem = function(id, callback) {
    Y.io( "http://localhost:4242/lookup_item?id=" + encodeURIComponent(id), {
      method: "GET", on: { success: function(id, o, a){ callback(Y.JSON.parse(o.responseText)); } }
    });
  }
  
  var getRandItem = function(clothingType, callback) {
  	var query = { type: clothingType };
  	Y.io( "http://localhost:4242/random_item?data=" + encodeURIComponent(Y.JSON.stringify(query)),
  	{
  		method: "GET",
  		on: { success: function(id, o, a) { callback(Y.JSON.parse(o.responseText)); } }
  	});
  }

  var getRecommendations = function(clothingType, ids, callback) {
    var query = {
      type: clothingType,
      input:((ids instanceof Array) ? ids : [ids]),
      start:0,
      count:numSuggestions
    };
    Y.io( "http://localhost:4242/recommend?data=" + encodeURIComponent(Y.JSON.stringify(query)),
      {method: "GET", on: { success: function(id, o, a){
        Y.log(o.responseText);
        callback(Y.JSON.parse(o.responseText)); } }
      });
  }
  
  //
  //  UI HOOKS
  //

  function selectAlternative(e) {
    var animationDuration = 0.25;
    // Paths
    Y.log(Y.one('.selectedRegion'));
    var srcImg = Y.one('.selectedRegion');
    var srcImgPath = srcImg.get('src');
    var targetImgPath = e.target.get('src');
    // (without animation)
//    e.target.set('src', srcImgPath);
//    srcImg.set('src', targetImgPath);
    // Animation (src)
    var fadeOutSrc = new Y.Anim({
            node: '#' + e.target.get('id'),
            from: { opacity: 1 },
            to: { opacity: 0 },
            duration: animationDuration,
        })
    var fadeInSrc = new Y.Anim({
            node: '#' + e.target.get('id'),
            from: { opacity: 0 },
            to: { opacity: 1 },
            duration: animationDuration,
        })
    fadeOutSrc.on('end', function() {
      e.target.set('src', srcImgPath);
      fadeInSrc.run();
    });
    // Animation (targetr)
    var fadeOutTarget = new Y.Anim({
            node: '#' + srcImg.get('id'),
            from: { opacity: 1 },
            to: { opacity: 0 },
            duration: animationDuration,
        });
    var fadeInTarget = new Y.Anim({
            node: '#' + srcImg.get('id'),
            from: { opacity: 0 },
            to: { opacity: 1 },
            duration: animationDuration,
        });
    fadeOutTarget.on('end', function() {
      srcImg.set('src', targetImgPath);
      fadeInTarget.run();
    });
    // Execute
    fadeOutSrc.run();
    fadeOutTarget.run();
  }
  
  Y.one('#top').on('click', function () { openCloset(Y.one('#top')); });
  Y.one('#bottom').on('click', function () { openCloset(Y.one('#bottom')); });
  Y.one('#shoe').on('click', function () { openCloset(Y.one('#shoe')); });

  //
  //  POSITIONING
  //

  function render() {
    // Helpers
    function setWidth(elem, canvasWidth) {
      if (parseInt(elem.getStyle('width')) > canvasWidth / 2) { elem.set('width', canvasWidth / 2); }
    }

    // Collect variables
    var canvas = Y.one('#canvas');
    var canvasXY = canvas.getXY();                                       var canvasWidth = parseInt(canvas.getStyle('width'));
    var imgTop = Y.one('#top');       setWidth(imgTop, canvasWidth);     var topWidth    = parseInt(imgTop.getStyle('width'));    
    var imgBottom = Y.one('#bottom'); setWidth(imgBottom, canvasWidth);  var bottomWidth = parseInt(imgBottom.getStyle('width')); 
    var imgShoe = Y.one('#shoe');     setWidth(imgShoe, canvasWidth);    var shoeWidth   = parseInt(imgShoe.getStyle('width'));   
    var centerX = canvasXY[0] + (canvasWidth / 2);
   
    // Position
    imgTop.setXY([centerX - (topWidth / 2), 
                  canvasXY[1]]);
    imgBottom.setXY([centerX - (bottomWidth / 2),
                    imgTop.getXY()[1] + imgTop.getStyle('height')]);
    imgShoe.setXY([centerX - (shoeWidth / 2),
                   imgBottom.getXY()[1] + imgBottom.getStyle('height')]);
  }
    
    
  var overlay = new Y.Overlay({
      srcNode: "#closet",
  });
  overlay.render();
  overlay.hide();

  function openCloset(parentElem) {
    // Ensure we're not clobbering ourselves
    queryID += 1;
    var currentID = queryID;
    // Manage selected node
    Y.all('.selectedRegion').removeClass('selectedRegion');
    parentElem.addClass('selectedRegion');
    Y.log(Y.one('.selectedRegion'));
    
    // Get Variables
    var parentXY = parentElem.getXY();
    var parentWidth = parseInt(parentElem.getStyle('width'));
    var parentHeight = parseInt(parentElem.getStyle('height'));

    // Initialize overlay
    var closet = Y.one("#closet")
    closet.setHTML('');
    closet.append('<img id="loading" src="images/loading.gif" ' +
        'width= "' + parentWidth + '" ' +
        'style="opacity: 0"/>');

    // Find ids for the rest of the wardrobe
    var id = [];
    var idToReplace = getIdFromElem(parentElem);
    for (i = 0; i < clothingSlots.length; ++i) {
      var candidateId = getIdFromElem(Y.one('#' + clothingSlots[i]));
      if (candidateId != idToReplace) { id.push(candidateId); }
    }
    // Get Suggestions (while we animate)
    Y.log("querying " + id);
    getRecommendations(parentElem.get('id'), id, function(recs) {
      if (currentID == queryID) {  // make sure the request isn't stale...
        // Get rid of loading icon
        Y.one('#loading').remove();
        for (i = 0; i < recs.length; ++i) {
          // Add raw element
          var leftPadding = 25;
          if (i == recs.length / 2) {
            leftPadding = parentWidth + 50;
          }
          Y.one("#closet").append(
            '<img id="rec_' + i + '" src="/img_clothes/' + recs[i].id + '_in_pp.jpg" ' +
            'width="' + parentWidth + '" ' +
            'style="padding-left: ' + leftPadding + '" ' +
            '/>');
          // Register actions for elements
          var alternativeImage = Y.one('#rec_' + i);
          alternativeImage.setStyle('opacity', '0.75');
          alternativeImage.on('click', selectAlternative);
          alternativeImage.on('mouseenter', function(e) { e.target.setStyle('opacity', '1'); });
          alternativeImage.on('mouseleave', function(e) { e.target.setStyle('opacity', '0.75'); });
        }
        // Add a close button
        Y.one("#closet").append('<img id="close" src="images/close.png"/>');
        Y.one('#close').on('click', function() { alert("closing window (but not)"); });
      }
    });
    
    // Render Overlay
    overlay.set('height', parentHeight);
    overlay.set('width', ((parentWidth + 25) * 5 + 25) );
    var fadeOut = new Y.Anim({
            node: '#closet',
            from: { opacity: 1 },
            to: { opacity: 0 },
            duration: 0.05,
        })
    var fadeIn = new Y.Anim({
            node: '#closet',
            from: { opacity: 0 },
            to: { opacity: 1 },
            duration: 0.1,
        })
    fadeIn.on('end', function() { 
      overlay.show();
      // render original image
      new Y.Overlay({
          srcNode: "#loading",
          xy: parentElem.getXY(),
      }).render();
      var loadingIcon = Y.one('#loading');
      if (loadingIcon != null) { loadingIcon.setStyle('opacity', '1'); }
    });
    fadeOut.on('end', function() {
      overlay.move([parentXY[0] + parentWidth / 2 - parseInt(overlay.get('width')) / 2, parentXY[1]]);
      fadeIn.run();
    });
    if (Y.one('#closet').getStyle('opacity') == 0) {
      overlay.move([parentXY[0] + parentWidth / 2 - parseInt(overlay.get('width')) / 2, parentXY[1]]);
      fadeIn.run();
    } else {
      fadeOut.run();
    }
  }

  //
  //  Utils
  //
  function getIdFromElem(parentElem) {
    return parseInt(/img_clothes\/(\d+)[^\d]+/.exec(parentElem.get('src'))[1], 10);
  }
  
  //
  //  INITIALIZATION
  //
  
  Y.one('#top').set('src', "/img_clothes/" + getRandTops() + "_in_pp.jpg");
  Y.one('#shoe').set('src', "/img_clothes/" + getRandShoes() + "_in_pp.jpg");
  render();
  
});

// var shoeIds = ['383141', '384878', '374690', '376691', '374702', '383195', '384877', '386339', '383499', '379607', '384873', '374664', '364616', '382033', '385532', '364899', '377833', '385538', '379132', '381631', '374955', '364626', '384892', '382943', '376692', '383153', '383152', '379640', '383155', '379151', '382112', '379146', '379143', '374551', '383720', '383520', '372442', '375139', '383495', '377569', '377566', '361259', '385468', '347745', '383678', '373453', '373651', '384883', '373655', '312459', '385469', '375146', '386145', '379141', '374677', '347746', '347747', '364090', '375504', '312460', '379140', '385470', '372445', '362808', '385472', '374669', '384881', '379527', '364660', '386334', '379531', '362821', '381978', '375505', '386335', '386144', '374667', '375512', '364663', '362835', '386147', '374670', '388979', '384880', '347744', '379543', '375975', '364303', '376027', '385464', '362813', '376687', '383496', '379150', '377570', '383140', '384879', '381650', '374665', '375141', '382949', '362828', '383760', '379526', '60306', '374666', '375138', '362826', '379540', '375140', '386146', '379529', '386338', '374671', '386148', '364518', '364110', '375516', '375507', '386142', '362830', '384882', '381984', '381980', '362825', '364525', '375148', '381694', '382765', '374063', '382114', '385466', '374065', '383679', '383105', '372440', '384885', '381349', '379533', '381991', '385474', '364746', '364246', '373153', '372439', '374545', '373002', '364305', '374066', '385467', '350678', '364304', '379530', '385471', '373157', '364528', '375517', '386143', '364900', '374673', '375510', '391339', '379833', '379536', '374552', '373163', '375144', '364618', '364292', '379542', '342302', '379831', '373152', '379832', '362827', '364302', '317680', '388980', '374358', '388978', '383041', '364251', '362625', '388983', '374367', '376758', '388985', '381693', '381691', '379642', '386333', '374360', '376025', '383128', '374359', '346615', '384888', '362819', '384890', '364306', '376047', '364669', '381651', '365677', '374953', '364522', '383127', '380077', '373485', '364593', '364308', '374362', '347743', '365681', '374064', '371241', '388984', '376759', '376694', '373158', '364312', '367383', '314028', '319766', '376472', '364307', '374947', '373452', '374674', '364111', '379535', '383723', '384886', '364309', '364668', '376944', '364658', '364245', '338778', '362833', '347760', '364113', '376474', '364317', '388989', '364301', '364620', '375150', '376940', '364313', '374945', '60302', '364621', '339973', '364622', '362829', '364319', '364627', '377825', '374547', '374948', '317681', '319767', '388986', '379135', '380074', '383576', '362840', '365968', '372388', '386763', '361258', '374686', '365969', '376477', '376954', '376475', '379606', '379148', '376762', '375143', '379149', '376478', '384872', '381692', '379528', '380078', '362841', '362598', '386332', '372392', '375147', '376951', '380137', '364615', '365680', '383126', '364594', '373645', '365678', '374067', '379604', '365683', '380136', '373646', '375836', '386336', '376952', '374957', '333742', '364611', '333768', '364612', '364613', '375151', '364529', '364299', '364603', '362811', '362832', '358870', '391338', '364285', '364524', '364318', '377827', '383578', '364277', '364311', '364607', '374361', '379728', '371238', '373654', '384884', '377828', '388987', '383895', '362601', '374956', '388988', '380076', '383049', '364884', '362594', '374548', '382032', '382030', '380075', '365967', '373151', '364248', '379641', '364885', '376760', '364290', '375158', '377333', '361256', '379603', '386340', '376689', '372391', '377339', '379532', '373149', '361342', '374365', '374363', '379152', '364896', '365686', '364614', '373150', '364609', '374685', '374687', '364624', '373159', '385542', '376740', '385535', '375154', '385291', '381979', '364276', '364315', '364316', '313591', '364623', '364275', '385543', '385539', '333747', '364605', '385541', '385540', '377834', '344874', '383896', '383897', '379545', '375156', '375157', '375832', '362596', '373001', '371232', '374954', '374369', '386337', '374951', '391362', '376476', '383124', '379605', '373155', '384874', '371231', '383125', '372389', '383132', '364889', '384887', '391359', '383133', '377334', '163978', '376693', '377335', '373484', '364897', '376741', '384012', '379538', '379541', '367384', '364118', '375513', '364116', '342296', '364310', '364604', '364314', '364273', '385536', '403048', '365684', '403049', '385544', '346634', '365687', '385537', '333748', '339975', '349227', '346704', '372390', '379133', '403050', '377568', '403046', '374546', '383129', '375155', '362595', '381983', '403047', '381348', '364887', '391361', '383130', '384875', '384876', '391363', '314027', '376690', '372333', '364596', '377337', '374701', '385531', '375511', '373653', '372332', '365970', '372334', '375508', '374689', '379834', '364108', '374068', '364890', '373161', '383500', '374946', '365685', '342297', '364901', '388254', '367381', '365688', '364112', '367382', '198371', '339968', '364606', '348846', '347829', '338117', '335531', '333755', '361257', '335529', '383719', '375142', '362589', '377832', '381981', '362590', '381649', '382883', '354286', '374549', '374949', '371235', '354287', '373652', '374553', '382893', '377830', '361343', '371479', '376953', '362824', '372438', '364657', '375834', '364300', '364521', '375506', '364321', '364520', '362839', '365682', '364619', '352749', '379134', '376039', '333750', '335528', '347830', '379136', '178022', '381993', '382892', '355758', '374688', '379537', '374128', '374129', '375145', '382882', '371048', '350491', '375833', '371049', '385473', '373154', '367999', '376761', '381629', '375159', '376479', '373160', '379144', '375149', '364523', '375514', '374130', '355760', '381632', '335522', '342314', '385179', '367340', '380072', '367652', '335526', '376471', '385545', '376942', '374550', '376955', '314361', '377831', '364898', '373156', '374132', '391875', '376943', '364343', '373164', '364344', '364291', '364347', '375137', '391872', '375835', '377336', '364106', '364346', '385475', '391360', '374952', '364094', '364617', '351318', '383194', '376941', '330716', '362831', '362600', '374676', '364608', '349224', '332945', '349228', '329890', '350508', '391876', '349230', '335521', '350676', '333071', '329892', '329881', '400893', '379731', '376957', '377338', '379733', '385180', '373000', '361260', '391873', '371963', '371964', '362843', '386651', '383131', '371965', '364288', '376028', '349264', '389287', '351079', '373644', '374672', '374950', '334803', '336285', '364526', '362838', '379444', '365679', '349226', '349225', '336281', '333754', '331074', '333073', '333766', '351950', '383196', '373162', '338777', '376026', '321905', '352751', '386652', '391877', '374668', '364888', '374684', '364115', '381982', '364892', '375509', '362834', '353055', '362836', '371042', '342298', '350384', '364661', '362837', '335540', '333749', '329885', '333758', '333746', '379153', '374554', '372998', '373448', '352748', '364096', '364105', '379539', '364104', '362842', '364662', '364289', '350569', '342305', '342315', '322183', '335533', '335541', '329942', '336284', '341539', '376739', '386473', '318184', '364891', '376763', '379544', '375515', '342308', '333745', '337352', '367653', '364286', '313237', '317006', '312058', '353057', '350514', '344876', '351316', '344877', '332946', '333067', '329891', '331071', '333751', '331059', '333070', '331752', '376040', '311584', '351949', '364284', '371962', '364610', '323880', '349423', '334806', '335530', '335539', '335532', '333744', '333014', '336282', '329925', '331066', '336283', '333756', '372444', '368000', '368001', '372443', '48183'];

// var topIds = ['379253', '380613', '385507', '383768', '364215', '382135', '384421', '385279', '382006', '325247', '371541', '324809', '383766', '371258', '373497', '400105', '383878', '385305', '383770', '381869', '384340', '383875', '371130', '388964', '346537', '378812', '380648', '385301', '374525', '372633', '385127', '381998', '372293', '379510', '383316', '382014', '382021', '378894', '383993', '385271', '382022', '371133', '371540', '379504', '374527', '376715', '384344', '383312', '383314', '372292', '374538', '374528', '379576', '382089', '383637', '373529', '381480', '375303', '385277', '373525', '373392', '383765', '383880', '350368', '375897', '383771', '385278', '373502', '373406', '383761', '372642', '383762', '375915', '405355', '386095', '383085', '383769', '385662', '385665', '386091', '375895', '373465', '380728', '373496', '381613', '371460', '379252', '379450', '382787', '380722', '383626', '378657', '378044', '384413', '372764', '385275', '368583', '386751', '373471', '382091', '388759', '373463', '383335', '379426', '360913', '376891', '382852', '384008', '389885', '389889', '382101', '376346', '373730', '373866', '374811', '389890', '372638', '388762', '382916', '379421', '379490', '379694', '380676', '369444', '381389', '371332', '369433', '373878', '388899', '367466', '376439', '369440', '386749', '384583', '368588', '375289', '377392', '385273', '370082', '380328', '360120', '368911', '381864', '388761', '371318', '376890', '379562', '373418', '378035', '378042', '381886', '371325', '360121', '382035', '375298', '375561', '383090', '373872', '373873', '388760', '349719', '370083', '385274', '381720', '372290', '379438', '381621', '375296', '378384', '360125', '372677', '360124', '373876', '378893', '371721', '373770', '371717', '373880', '360122', '375905', '355978', '368912', '385272', '376750', '380315', '372669', '364207', '368915', '378380', '378385', '371326', '371714', '361774', '361780', '369435', '375908', '383091', '372625', '377238', '368913', '364213', '383111', '382840', '361778', '368914', '384613', '368923', '371716', '377394', '385511', '404106', '367457', '368910', '373859', '357704', '385276', '384632', '377240', '345018', '372286', '376482', '384621', '358220', '379489', '380143', '383553', '384624', '379280', '378361', '376483', '381477', '378039', '378121', '381205', '386171', '382122', '381482', '383095', '383330', '385092', '385591', '334326', '374988', '386278', '375940', '378220', '377350', '382043', '376437', '378040', '383995', '336984', '334327', '385091', '383177', '334331', '337638', '378047', '383550', '384630', '386200', '384618', '381394', '382019', '375939', '375942', '377341', '385259', '383403', '375265', '385489', '372050', '379448', '384345', '371253', '380266', '382051', '385590', '372404', '391794', '375244', '373849', '375246', '374206', '381619', '382863', '385263', '375949', '374415', '375593', '380317', '374413', '382865', '385508', '385512', '375311', '388764', '382839', '386766', '375943', '379243', '386210', '383756', '375330', '373219', '381622', '383332', '388751', '382783', '363287', '381735', '382860', '384654', '386082', '368596', '391518', '371453', '383327', '388095', '379577', '382910', '367454', '378107', '378123', '376456', '375247', '382794', '375551', '378112', '378119', '379321', '378166', '374272', '386175', '382868', '364027', '372403', '371207', '375859', '374641', '378124', '352680', '375245', '385261', '375866', '363286', '363445', '375891', '363435', '376560', '379288', '375241', '373855', '362619', '363232', '379315', '388770', '386186', '361931', '376717', '378167', '339695', '378227', '378231', '383222', '375240', '372036', '362613', '384639', '375887', '374226', '386177', '363283', '376498', '375248', '384636', '357364', '364478', '363438', '375884', '358980', '375232', '376500', '379745', '354512', '364470', '373475', '360137', '374977', '359749', '385589', '400098', '375904', '339291', '363434', '367455', '375883', '349065', '365509', '380611', '377809', '377133', '371470', '376885', '375880', '383979', '374253', '374639', '375239', '360132', '360863', '375292', '387110', '364085', '373478', '364996', '363892', '373778', '352677', '361203', '364055', '390335', '363307', '372288', '358031', '387108', '375257', '365429', '375596', '348678', '365824', '375254', '360858', '360864', '378171', '375898', '350198', '363423', '390332', '362797', '384411', '358836', '360130', '364056', '364212', '365503', '352671', '362796', '383118', '364342', '363981', '381641', '364054', '372420', '352693', '360862', '402712', '348563', '363304', '375892', '385673', '377125', '357367', '364151', '384423', '364498', '360207', '349060', '380269', '382775', '348696', '360208', '380644', '364477', '379423', '348679', '364203', '364341', '339691', '358841', '365826', '377120', '360898', '363277', '377131', '361457', '389724', '347648', '349739', '361451', '361455', '397744', '352959', '339286', '347651', '361928', '357353', '355019', '352672', '372468', '378941', '381478', '372478', '383156', '376767', '339378', '334333', '385264', '329958', '334224', '329962', '400108', '383554', '386165', '181985', '181980', '382853', '173297', '173294', '383183', '410518', '381116', '383173', '378837', '419201', '384525', '381858', '382017', '382024', '382037', '382986', '383000', '383254', '346538', '374422', '387155', '384535', '381640', '374576', '373495', '385143', '386067', '386074', '405353', '385267', '386784', '380635', '385206', '372082', '384419', '385208', '371135', '380639', '350155', '381522', '377789', '364357', '380254', '380652', '382086', '382987', '383004', '386096', '381861', '382082', '384590', '385668', '375566', '382884', '380642', '384526', '369137', '364356', '379580', '381262', '378896', '379660', '380272', '376704', '377551', '378897', '383317', '384003', '386085', '373402', '383879', '388961', '379516', '381860', '383409', '382878', '371543', '375907', '312223', '379678', '372284', '379657', '382056', '375938', '374425', '400096', '373457', '374530', '386043', '378104', '379250', '384005', '379048', '383737', '383929', '384006', '385530', '365518', '381086', '410996', '382005', '400130', '324807', '386160', '324806', '325246', '356467', '381726', '373357', '385706', '372630', '383174', '383959', '391335', '379247', '379254', '381893', '377271', '364332', '383920', '377349', '381734', '382851', '385096', '386722', '364584', '376558', '356470', '371320', '372084', '376556', '371476', '383881', '379502', '372819', '383632', '379494', '373499', '376562', '378818', '365512', '364582', '372990', '383764', '372085', '386073', '378362', '372401', '381390', '371471', '359761', '377840', '374224', '379427', '386700', '360908', '381699', '381890', '364323', '384415', '386158', '359599', '349848', '383772', '368920', '373515', '342114', '355024', '380719', '349063', '372636', '364047', '349855', '379572', '380724', '380729', '373875', '330273', '349849', '376435', '383284', '372770', '349851', '379043', '383947', '373856', '373494', '383551', '360123', '381266', '349064', '379503', '378899', '379453', '415785', '348564', '389886', '389892', '365453', '388758', '380699', '388769', '384584', '372616', '359760', '386670', '366850', '372757', '372662', '360911', '365549', '384586', '369425', '379263', '376887', '381727', '372285', '368919', '384587', '383923', '379500', '386750', '373768', '373726', '366854', '381395', '381521', '381868', '382090', '360918', '373727', '375914', '336446', '374978', '372103', '373394', '198511', '367831', '385262', '371319', '372108', '375255', '385499', '386420', '375563', '386767', '372664', '372678', '376436', '386221', '378655', '371457', '378219', '383990', '378383', '374204', '375937', '377397', '371329', '361775', '375249', '353673', '385392', '381083', '383949', '383549', '383702', '377246', '353670', '377244', '367460', '375553', '377344', '381519', '380145', '349718', '378168', '378009', '386285', '345019', '378359', '374219', '375894', '381584', '371027', '378010', '380318', '376488', '385491', '334321', '334325', '379581', '386203', '385102', '380257', '365430', '328724', '328723', '386201', '374818', '381118', '382826', '386702', '386706', '315393', '382866', '386216', '383176', '379245', '370388', '378165', '386220', '374814', '374834', '376709', '383275', '374824', '379764', '380603', '375555', '372400', '381085', '373201', '381733', '363282', '363289', '372402', '374269', '351964', '365511', '352966', '364029', '374827', '375242', '349275', '364053', '376712', '380309', '371661', '386187', '362614', '363339', '374826', '361201', '386768', '374976', '375227', '374829', '375336', '381072', '373481', '376441', '379573', '375263', '401115', '359746', '373476', '363290', '375325', '383120', '374072', '365431', '370392', '375604', '376486', '364480'];
  
function getRandShoes()
{
	var ind = Math.floor((Math.random() * shoeIds.length));
//   return shoeIds[ind];
  return getRandItem('Shoe');
}

function getRandTops()
{
	var ind = Math.floor((Math.random() * topIds.length));
// 	return topIds[ind];
	return getRandItem('Bottom');
}
